---
title: Nginx--简论
category: 网络杂谈
date: 2023-08-21 10:01:48
tags:
---
### 本文会帮你解答一个问题，nginx这玩意儿是干嘛的
Nginx是啥，官方说法，一种高性能的http与反向代理的web服务器。什么叫高性能？说白了就是响应尽可能地快。
一般的项目后端配置tomcat即可满足需求，因为一个站点在某个时刻不可能会有大量的请求达到。tomcat最高同时能够满足5、600的请求响应，所以说一般场景下基本hold住。但是总有些热门的站点。在某一时刻会有数以万计的请求，这个时候，tomcat就扛不住了，服务器直接飘红。为了解决这一问题，nginx就来了（最大支持50000请求）。
<img src="/img/nginx.jpg" alt="nginx" width="500">

**反向代理、负载均衡、动静分离。**

#### 反向代理
先说明什么是正向代理。玩吃鸡这类游戏的时候，我们往往要挂个加速器（vpn），不然就很慢。关于为什么慢甚至无法访问，请移步"梯子"那篇文章。这里的加速器，就是**正向代理**，开启代理，我们触发的任何请求均是由加速器代替我们的客户端发出去的。即：**代理客户端就是正向代理**。
而反向代理的典型就是nginx。当客户端的请求发送给服务端的时候，实际上被nginx拦截，代替服务端返回响应。即：**代理服务端就叫做反向代理。**两者的效果是一样的，就是在c端和s端之间加了一层。实际的操作区别在于，一个装在c端一个跑在s端，如此而已。同一个站点的服务器，往往不会是一台，可能会有很多台。通过nginx这层中间层，即可实现高性能的需求。**顺带说一句，从架构的层面来做考量，没有什么，是加一层中间层解决不了的。如果有，那就再加一层。**

#### 负载均衡
上面实际已经提到了。某个时刻发送了4个请求，如果此时只有一台服务器，那么这四个请求会被这台服务器挨个处理，挨个儿响应，假设一个请求耗时N，总耗时就是4N。那么如果此时服务器端有四台服务器，四个请求被四台服务器同时处理并返回，耗时为N。这就叫负载均衡。注意，默认情况下是通过轮询的方式把四个请求依次给到四台服务器。但是我们也可以通过“weight”权重关键字灵活配置，也就是所谓的加权轮询。

#### 动静分离
实际就是其字面意义。不赘述。
```javascript
常用命令：
关闭nginx，快速停止nginx，可能并不保存相关信息
nginx -s stop

重新载入nginx，当配置信息修改需要重新加载配置是使用
nginx -s reload
```


对于前端同学们而言，nginx听个响足矣，知道这个东西干嘛用的。需要的时候，找找相关配置即可。毕竟，大家各司其职。